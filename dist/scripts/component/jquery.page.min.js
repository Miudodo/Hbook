!function(n){var a={init:function(n,e){return function(){a.fillHtml(n,e),a.bindEvent(n,e)}()},fillHtml:function(n,a){return function(){n.empty(),a.current>1?n.append('<a href="javascript:;" class="prevPage">&laquo;</a>'):(n.remove(".prevPage"),n.append('<span class="disabled">&laquo;</span>')),1!=a.current&&a.current>=4&&4!=a.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">1</a>'),a.current-2>2&&a.current<=a.pageCount&&a.pageCount>5&&n.append('<span class="more">...</span>');var e=a.current-2,t=a.current+2;for((e>1&&a.current<4||1==a.current)&&t++,a.current>a.pageCount-4&&a.current>=a.pageCount&&e--;t>=e;e++)e<=a.pageCount&&e>=1&&(e!=a.current?n.append('<a href="javascript:;" class="tcdNumber">'+e+"</a>"):n.append('<span class="current">'+e+"</span>"));a.current+2<a.pageCount-1&&a.current>=1&&a.pageCount>5&&n.append('<span class="more">...</span>'),a.current!=a.pageCount&&a.current<a.pageCount-2&&4!=a.pageCount&&n.append('<a href="javascript:;" class="tcdNumber">'+a.pageCount+"</a>"),a.current<a.pageCount?n.append('<a href="javascript:;" class="nextPage">&raquo;</a>'):(n.remove(".nextPage"),n.append('<span class="disabled">&raquo;</span>'))}()},bindEvent:function(e,t){return function(){e.on("click","a.tcdNumber",function(){var r=parseInt(n(this).text());a.fillHtml(e,{current:r,pageCount:t.pageCount}),"function"==typeof t.callback&&t.callback(r,t.showNum)}),e.on("click","a.prevPage",function(){var n=parseInt(e.children("span.current").text());a.fillHtml(e,{current:n-1,pageCount:t.pageCount}),"function"==typeof t.callback&&t.callback(n-1,t.showNum)}),e.on("click","a.nextPage",function(){var n=parseInt(e.children("span.current").text());a.fillHtml(e,{current:n+1,pageCount:t.pageCount}),"function"==typeof t.callback&&t.callback(n+1,t.showNum)}),e.on("click","a.gotoPage",function(){var n=e.children("input.gotoInput").val();if(""!=n){var r=parseInt(n);r&&(console.log(r+"----------"),console.log(t.pageCount+"总数"),r<=t.pageCount&&(a.fillHtml(e,{current:r,pageCount:t.pageCount}),"function"==typeof t.callback&&t.callback(r,t.showNum)))}})}()}};n.fn.createPage=function(e){var t=n.extend({pageCount:10,current:1,callback:function(){}},e);a.init(this,t)}}(jQuery);