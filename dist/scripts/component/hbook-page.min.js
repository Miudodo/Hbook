!function(n){"use strict";var e=function(e,t){this.options=t,this.$element=n(e),this.init()};e.prototype={init:function(){this.getDom(this.$element,this.options),this.bindEvent(this.$element,this.options)},getDom:function(n,e){n.empty(),e.current>1?n.append('<a href="javascript:;" class="prevPage">&laquo;</a>'):(n.remove(".prevPage"),n.append('<span class="disabled">&laquo;</span>')),1!=e.current&&e.current>=4&&4!=e.pageCount&&n.append('<a href="javascript:;" class="number">1</a>'),e.current-2>2&&e.current<=e.pageCount&&e.pageCount>5&&n.append('<span class="more">...</span>');var t=e.current-2,a=e.current+2;for((t>1&&e.current<4||1==e.current)&&a++,e.current>e.pageCount-4&&e.current>=e.pageCount&&t--;a>=t;t++)t<=e.pageCount&&t>=1&&(t!=e.current?n.append('<a href="javascript:;" class="number">'+t+"</a>"):n.append('<span class="current">'+t+"</span>"));e.current+2<e.pageCount-1&&e.current>=1&&e.pageCount>5&&n.append('<span class="more">...</span>'),e.current!=e.pageCount&&e.current<e.pageCount-2&&4!=e.pageCount&&n.append('<a href="javascript:;" class="number">'+e.pageCount+"</a>"),e.current<e.pageCount?n.append('<a href="javascript:;" class="nextPage">&raquo;</a>'):(n.remove(".nextPage"),n.append('<span class="disabled">&raquo;</span>'))},bindEvent:function(){var e=this;e.$element.on("click","a.number",function(){var t=parseInt(n(this).text());e.getDom(e.$element,{current:t,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(t,e.options.showNum)}),e.$element.on("click","a.prevPage",function(){var n=parseInt(e.$element.children("span.current").text());e.getDom(e.$element,{current:n-1,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(n-1,e.options.showNum)}),e.$element.on("click","a.nextPage",function(){var n=parseInt(e.$element.children("span.current").text());e.getDom(e.$element,{current:n+1,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(n+1,e.options.showNum)}),e.$element.on("click","a.gotoPage",function(){var n=e.$element.children("input.gotoInput").val();if(""!=n){var t=parseInt(n);t&&t<=e.options.pageCount&&(e.getDom(e.$element,{current:t,pageCount:e.options.pageCount}),"function"==typeof e.options.callback&&e.options.callback(t,options.showNum))}})}},n.fn.page=function(t){var a=n.extend(n.fn.page.defaults,t);return this.each(function(){new e(this,a)})},n.fn.page.defaults={current:1,pageCount:10,callback:function(){}}}(window.jQuery);