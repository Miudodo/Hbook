!function(e){"use strict";var n=function(n,t){this.options=t,this.$element=e(n),this.init()};n.prototype={init:function(){this.getDom(this.$element,this.options),this.bindEvent(this.$element,this.options)},getDom:function(e,n){e.empty(),n.current>1?e.append('<a href="javascript:;" class="prevPage">&laquo;</a>'):(e.remove(".prevPage"),e.append('<span class="disabled">&laquo;</span>')),1!=n.current&&n.current>=4&&4!=n.pageCount&&e.append('<a href="javascript:;" class="number">1</a>'),n.current-2>2&&n.current<=n.pageCount&&n.pageCount>5&&e.append('<span class="more">...</span>');var t=n.current-2,a=n.current+2;for((t>1&&n.current<4||1==n.current)&&a++,n.current>n.pageCount-4&&n.current>=n.pageCount&&t--;a>=t;t++)t<=n.pageCount&&t>=1&&(t!=n.current?e.append('<a href="javascript:;" class="number">'+t+"</a>"):e.append('<span class="current">'+t+"</span>"));n.current+2<n.pageCount-1&&n.current>=1&&n.pageCount>5&&e.append('<span class="more">...</span>'),n.current!=n.pageCount&&n.current<n.pageCount-2&&4!=n.pageCount&&e.append('<a href="javascript:;" class="number">'+n.pageCount+"</a>"),n.current<n.pageCount?e.append('<a href="javascript:;" class="nextPage">&raquo;</a>'):(e.remove(".nextPage"),e.append('<span class="disabled">&raquo;</span>'))},bindEvent:function(){var n=this;n.$element.off("click"),n.$element.on("click","a.number",function(){var t=parseInt(e(this).text());n.getDom(n.$element,{current:t,pageCount:n.options.pageCount}),"function"==typeof n.options.callback&&n.options.callback(t)}),n.$element.on("click","a.prevPage",function(){var e=parseInt(n.$element.children("span.current").text());n.getDom(n.$element,{current:e-1,pageCount:n.options.pageCount}),"function"==typeof n.options.callback&&n.options.callback(e-1)}),n.$element.on("click","a.nextPage",function(){var e=parseInt(n.$element.children("span.current").text());n.getDom(n.$element,{current:e+1,pageCount:n.options.pageCount}),"function"==typeof n.options.callback&&n.options.callback(e+1)}),n.$element.on("click","a.gotoPage",function(){var e=n.$element.children("input.gotoInput").val();if(""!=e){var t=parseInt(e);t&&t<=n.options.pageCount&&(n.getDom(n.$element,{current:t,pageCount:n.options.pageCount}),"function"==typeof n.options.callback&&n.options.callback(t))}})}},e.fn.page=function(t){var a=e.extend(e.fn.page.defaults,t);return this.each(function(){new n(this,a)})},e.fn.page.defaults={current:1,pageCount:10,callback:function(){}}}(window.jQuery);