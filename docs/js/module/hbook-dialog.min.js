!function(e){"use strict";function o(e,o){for(var t in o)e[t]=o[t];return e}function t(e,o){return e.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))}function i(e,o){t(e,o)||(e.className+=" "+o)}function n(e,o){if(t(e,o)){var i=new RegExp("(\\s|^)"+o+"(\\s|$)");e.className=e.className.replace(i," ")}}var c=1050,a=function(e){var t={id:"dialog"+(new Date).getTime(),type:0,addClass:"",title:"提示",backdrop:!0,confirmButton:!0,cancelButton:!0,confirm:function(){},cancel:function(){}},e=o(t,e);this.options=e,this.confirm=e.confirm,this.cancel=e.cancel,this.element=document.querySelectorAll("#"+e.id),this.init(this.options,this.element)};a.prototype.init=function(e,o){var t=this;o.length<=0&&(c++,t.show(e,o))},a.prototype.show=function(){var e=this,o=e.options,t="";1==o.type?t="dialog-tip":"","string"==typeof o.addClass?o.addClass=o.addClass:o.addClass="";var n="",a=document.createElement("div");a.id=o.id,a.className="dialog "+o.addClass+t,a.setAttribute("style","z-index:"+(c-1)),0!=o.type&&2!=o.type||3==o.type||(n+='<div class="dialog-header">'+o.title+'<a href="javascript:;" class="dialog-close dialog-close-'+o.id+'" ><i class="fa fa-close font-16"></i></a></div>'),n+='<div class="dialog-body">'+o.content+"</div>",2!=o.type&&3!=o.type&&(n+='<div class="dialog-footer dialog-footer-right"><div class="btn-group">',o.confirmButton&&(n+='<a href="javascript:;" class="btn btn-primary dialog-confirm-'+o.id+'" >确认</a>'),o.cancelButton&&(n+='<a href="javascript:;" class="btn dialog-cancel-'+o.id+'">取消</a>'),n+="</div></div>"),a.innerHTML=n;var l=document.querySelector("body");l.appendChild(a),i(a,"in"),o.backdrop?e.backdrop(o):"",e.bindEvent(o)},a.prototype.hide=function(e){var o=e||this.options.id,t=document.querySelector("body"),i=document.querySelector("#"+o);t.removeChild(i),document.querySelectorAll(".dialog-backdrop-"+o).length>0?this.hideBackDrop(o):""},a.prototype.backdrop=function(e){var o=e.id;if(document.querySelectorAll(".dialog-backdrop-"+o).length<=0){var t=document.createElement("div");t.className="dialog-backdrop dialog-backdrop-"+o,t.setAttribute("style","z-index:"+(c-2));var n=document.querySelector("body");n.appendChild(t),i(n,"dialog-open"),i(t,"in")}},a.prototype.hideBackDrop=function(e){var o=document.querySelector("body"),t=document.querySelector(".dialog-backdrop-"+e);o.removeChild(t),document.querySelectorAll(".dialog-backdrop").length<1&&n(o,"dialog-open")},a.prototype.bindEvent=function(e){var o=this,t=e.id,i=document.querySelectorAll(".dialog-confirm-"+t);i[0].onclick=function(){"function"==typeof o.confirm&&o.confirm()};var n=document.querySelectorAll(".dialog-cancel-"+t);n.length>0&&(n[0].onclick=function(){"function"==typeof o.cancel&&(o.cancel(),o.hide(t))});var c=document.querySelectorAll(".dialog-close-"+t),a=document.querySelectorAll(".dialog-backdrop-"+t);c.length>0&&(c[0].onclick=function(){o.hide(t)}),a.length>0&&(a[0].onclick=function(){o.hide(t)})},e.Dialog=a}(window);