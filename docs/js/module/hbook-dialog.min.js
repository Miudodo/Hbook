!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Dialog=t()}(this,function(){"use strict";function e(e,t){for(var o in t)e[o]=t[o];return e}function t(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function o(e,o){t(e,o)||(e.className+=" "+o)}function n(e,o){if(t(e,o)){var n=new RegExp("(\\s|^)"+o+"(\\s|$)");e.className=e.className.replace(n," ")}}var i=1050,c=function(t){var o={id:"dialog"+(new Date).getTime(),type:0,addClass:"",title:"提示",width:500,backdrop:!0,confirmButton:!0,cancelButton:!0,confirmText:"确定",ccancelText:"取消",confirm:function(){},cancel:function(){}},t=e(o,t);this.options=t,this.confirm=t.confirm,this.cancel=t.cancel,this.element=document.querySelectorAll("#"+t.id),this.init(this.options,this.element)};return c.prototype.init=function(e,t){var o=this;t.length<=0&&(i++,o.show(e,t))},c.prototype.show=function(){var e=this,t=null,n=e.options;t=1==n.type?"dialog-tip":"","string"==typeof n.addClass?n.addClass=n.addClass:n.addClass="";var c="",a=document.createElement("div");a.id=n.id,a.className="dialog "+n.addClass+t,a.style.width=n.width+"px",a.style.marginLeft=-(n.width/2)+"px",a.style.zIndex=i-1,0!=n.type&&2!=n.type||3==n.type||(c+='<div class="dialog-header">'+n.title+'<a href="javascript:;" class="dialog-close dialog-close-'+n.id+'" >×</a></div>'),c+='<div class="dialog-body">'+n.content+"</div>",2!=n.type&&3!=n.type&&(c+='<div class="dialog-footer dialog-footer-right"><div class="btn-group">',n.confirmButton&&(c+='<a href="javascript:;" class="btn btn-primary dialog-confirm-'+n.id+'" >'+n.confirmText+"</a>"),n.cancelButton&&(c+='<a href="javascript:;" class="btn dialog-cancel-'+n.id+'">'+n.ccancelText+"</a>"),c+="</div></div>"),a.innerHTML=c;var l=document.querySelector("body");l.appendChild(a),o(a,"in"),n.backdrop?e.backdrop(n):"",e.bindEvent(n)},c.prototype.hide=function(e){var t=e||this.options.id,o=document.querySelector("body"),n=document.querySelector("#"+t);o.removeChild(n),document.querySelectorAll(".dialog-backdrop-"+t).length>0?this.hideBackDrop(t):""},c.prototype.backdrop=function(e){var t=e.id,n=document.querySelector("body");if(document.querySelectorAll(".dialog-backdrop-"+t).length<=0){var c=document.createElement("div");c.className="dialog-backdrop dialog-backdrop-"+t,c.style.zIndex=i-2,n.appendChild(c),o(n,"dialog-open"),o(c,"in")}},c.prototype.hideBackDrop=function(e){var t=document.querySelector("body"),o=document.querySelector(".dialog-backdrop-"+e);t.removeChild(o),document.querySelectorAll(".dialog-backdrop").length<1&&n(t,"dialog-open")},c.prototype.bindEvent=function(e){var t=this,o=e.id,n=document.querySelectorAll(".dialog-confirm-"+o);n[0].onclick=function(){"function"==typeof t.confirm&&t.confirm()};var i=document.querySelectorAll(".dialog-cancel-"+o);i.length>0&&(i[0].onclick=function(){"function"==typeof t.cancel&&(t.cancel(),t.hide(o))});var c=document.querySelectorAll(".dialog-close-"+o),a=document.querySelectorAll(".dialog-backdrop-"+o);c.length>0&&(c[0].onclick=function(){t.hide(o)}),a.length>0&&(a[0].onclick=function(){t.hide(o)})},c});