!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):e.Dialog=o(),console.log(typeof exports,"typeof exports"),console.log(typeof module,"typeof module"),console.log(typeof define,"typeof define"),console.log(typeof amd,"typeof amd")}(this,function(){"use strict";function e(e,o){for(var t in o)e[t]=o[t];return e}function o(e,o){return e.className.match(new RegExp("(\\s|^)"+o+"(\\s|$)"))}function t(e,t){o(e,t)||(e.className+=" "+t)}function n(e,t){if(o(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}var i=1050,c=function(o){var t={id:"dialog"+(new Date).getTime(),type:0,addClass:"",title:"提示",width:500,backdrop:!0,confirmButton:!0,cancelButton:!0,confirmText:"确定",ccancelText:"取消",confirm:function(){},cancel:function(){}},o=e(t,o);this.options=o,this.confirm=o.confirm,this.cancel=o.cancel,this.element=document.querySelectorAll("#"+o.id),this.init(this.options,this.element)};return c.prototype.init=function(e,o){var t=this;o.length<=0&&(i++,t.show(e,o))},c.prototype.show=function(){var e=this,o=null,n=e.options;o=1==n.type?"dialog-tip":"","string"==typeof n.addClass?n.addClass=n.addClass:n.addClass="";var c="",l=document.createElement("div");l.id=n.id,l.className="dialog "+n.addClass+o,l.style.width=n.width+"px",l.style.marginLeft=-(n.width/2)+"px",l.style.zIndex=i-1,0!=n.type&&2!=n.type||3==n.type||(c+='<div class="dialog-header">'+n.title+'<a href="javascript:;" class="dialog-close dialog-close-'+n.id+'" >×</a></div>'),c+='<div class="dialog-body">'+n.content+"</div>",2!=n.type&&3!=n.type&&(c+='<div class="dialog-footer dialog-footer-right"><div class="btn-group">',n.confirmButton&&(c+='<a href="javascript:;" class="btn btn-primary dialog-confirm-'+n.id+'" >'+n.confirmText+"</a>"),n.cancelButton&&(c+='<a href="javascript:;" class="btn dialog-cancel-'+n.id+'">'+n.ccancelText+"</a>"),c+="</div></div>"),l.innerHTML=c;var d=document.querySelector("body");d.appendChild(l),t(l,"in"),n.backdrop?e.backdrop(n):"",e.bindEvent(n)},c.prototype.hide=function(e){var o=e||this.options.id,t=document.querySelector("body"),n=document.querySelector("#"+o);t.removeChild(n),document.querySelectorAll(".dialog-backdrop-"+o).length>0?this.hideBackDrop(o):""},c.prototype.backdrop=function(e){var o=e.id,n=document.querySelector("body");if(document.querySelectorAll(".dialog-backdrop-"+o).length<=0){var c=document.createElement("div");c.className="dialog-backdrop dialog-backdrop-"+o,c.style.zIndex=i-2,n.appendChild(c),t(n,"dialog-open"),t(c,"in")}},c.prototype.hideBackDrop=function(e){var o=document.querySelector("body"),t=document.querySelector(".dialog-backdrop-"+e);o.removeChild(t),document.querySelectorAll(".dialog-backdrop").length<1&&n(o,"dialog-open")},c.prototype.bindEvent=function(e){var o=this,t=e.id,n=document.querySelectorAll(".dialog-confirm-"+t);n[0].onclick=function(){"function"==typeof o.confirm&&o.confirm()};var i=document.querySelectorAll(".dialog-cancel-"+t);i.length>0&&(i[0].onclick=function(){"function"==typeof o.cancel&&(o.cancel(),o.hide(t))});var c=document.querySelectorAll(".dialog-close-"+t),l=document.querySelectorAll(".dialog-backdrop-"+t);c.length>0&&(c[0].onclick=function(){o.hide(t)}),l.length>0&&(l[0].onclick=function(){o.hide(t)})},c});